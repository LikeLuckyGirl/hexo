---
title: C语言
date: 2024-11-20 18:15:44
tags: 专升本
---
## C语言概述

### 程序设计语言
程序:一组计算机能识别和执行的指令
计算机语言：人和计算机交流信息的、计算机和人都能识别
机器语言（由0和1组成的指令）
符号语言（用英文字母和数字表示的指令）
高级语言（接近于人的自然语言和数学语言）
面向过程的语言（非结构化的语言、结构化的语言）
面向对象的语言
注意：C语言结构化、面向过程、高级语言
### C语言的特点
语言简介、紧凑，使用方便、灵活
运算符丰富
数据类型丰富
具有结构化的控制语句
语法限制不太严格，程序设计自由度大
允许直接访问物理地址，能进行位操作，可以直接对硬件进行编程
用C语言编写的程序可以执行好
生成目标代码质量高，程序执行效率高
### C语言的结构及特点
1. 一个程序由一个或多个源程序文件组成（小程序往往只包括一个源程序）
2. 一个源程序文件由一个或多个函数组成
3. 函数是C程序的主要组成部分（基本单位）
4. 必须包含一个main函数（有且只有一个）
5. 程序总是从main函数开始执行，入口出口
6. main函数可以调用其他函数，其他函数可以相互调用，但其它函数不能调用main函数
7. C程序书写格式是比较自由的，一行内可以写几个语句，一个语句可以分写在多行
8. C语言本身不提供输入输出语句（利用库函数）
9. C语句以分号“；”结束
10. 注释：// 单行注释，/* …… */ 多行注释（注释不编译不执行）
```
# include<stdio.h>
int main(){
    int max(int x,int y);
    int a,b,c;
    scanf("%d,%d",&a,&b);
    c= max(a,b);
    printf("max=%d",c);
    retutn 0;
}
int max(int x,int y){
    int z;
    if(x > y){
        z = x;
    }else{
        z = y;
    }
    return(z);
}
```
### 运算C程序的步骤
编译源程序（.c文件）➡对源程序进行编译（.obj文件，目标文件）➡链接库函数（.exe文件，可执行的目标文件）➡运行
注意：编译检查语法错误，不能检查出逻辑错误
### 算法
### 练习
1. 一个C程序的执行是从（ ）。
A.本程序的main函数开始，到main函数结束&emsp;
B.本程序文件的第一个函数开始，到本程序文件的最后一个函数结束&emsp;
C.本程序的main函数开始，本程序文件的最后一个函数结束&emsp;
D.本程序文件的第一个函数开始，到本程序main函数结束
2. 在C语言中，每个语句必须以（ ）结束。
A.回车符&emsp;B.冒号&emsp;C.逗号&emsp;D.分号
3. C语言规定：在一个源程序中，main函数的位置（ ）
A.必须在最开始 &emsp; B.必须在系统调用的库函数的后面
C.可以任意 &emsp;&emsp; D.必须在最后
4. 一个C语言程序由（ ）
A.一个主程序和若干子程序组成 &emsp; B.函数组成
C.若干过程组成 &emsp;&emsp;&emsp; D.若干子程序
5. 下列说法错误的是（ ）
A.主函数可以分为两个部分：主函数说明部分和主函数体
B.主函数可以调用任何非主函数的其他函数
C.任何非主函数可以调用其他非主函数
D.程序可以从任何非主函数开始执行
6. 用C语言编写的源文件经过编译，若没有产生编译错误，则系统将（ ）
A.生成可执行目标文件 &emsp; B.生成目标文件
C.输出运行结果 &emsp; D.自动保存源文件
7. 每个源程序有且只有一个____函数，系统总是从该函数开始执行C语言程序
8. C语言程序的注释可以出现在程序的任何地方，____表示单行注释，____表示多行注释
9. 系统默认的C语言源程序文件的扩展名是____，经过编译后生成的目标文件的扩展名是____，经过链接后生成的可执行文件的扩展名是____
---
## 数据类型
### C语言的数据类型
$
数据类型
\begin{cases}
基本类型 \begin{cases} 
    整型类型 \begin{cases} 基本整形(int) \\ 短整型(short\ int) \\长整型(long\ int) \\双长整型(long\ long\ int) \\字符型(char) \\布尔型(bool) \end{cases} \\ 
    浮点类型 \begin{cases} 单精度浮点型(float) \\ 双精度浮点型(double) \\ 复数浮点型(float\_complex,double\_complex,long\ long\_complex) \end{cases} 
\end{cases}  \\ 
枚举类型(enum),空类型(void) \\
派生类型 \begin{cases} 指针类型（*） \\ 数据类型（[]） \\ 结构体类型(struct) \\共用体类型(union) \\ 函数类型 \end{cases}
\end{cases}
$
### 常量与变量
1. 常量：程序运行过程中，其值不能改变的量

|  类型   |              示例              | 说明                                        |
|:-----:|:----------------------------:|-------------------------------------------|
| 整形常量  |         521、125、999          |                                           |
| 实数常量  |     1.25、5.21   (十进制小数)      |                                           |
| 实数常量  |     13.e4、14.E3  (指数形式)      | E或e左右必须有数，右边必须整数                          |
| 字符常量  |       'a'、'b'   (普通字符)       | 单引号括起来的单个字符存放字符的ASCLL码值：a--97,A--65,0--48 |
| 字符常量  | '\n'、'\t'、'\x12'、'\21'(转义字符) | '\1~3位八进制'(不能有8,9),'\x十六进制'(不能有大于f的字母)    |
| 字符串常量 |  "love" (以\0结束,\0默认不显示且可省略)  | 双引号括起来若干个字符                               |
| 符号常量  |      # define PRICE 30       | #define 符号常量 常量                           |
```
#include<stdio.h>
#define like 939
int main(){
    int lucky=98,love;
    love = lucky+like;
    printf("love=%d",love);
    return love-1024;
}
```
2. 变量：其值可以改变的量
定义格式：数据类型 变量名；
说明：1. 变量应该有名字，并在内存中占据一定的存储单元。2.变量名和变量值3.必须先定义后使用
3. 标识符
命名规则：1.只能由字母、数字、下划线组成，且第一个字符必须是字母或下划线2.区分大小写3.不能使用关键字
4. 常变量：定义变量前加const（有名字的不变量）
### 整型变量

|  类型  |        有符号        |      无符号       |
|:----:|:-----------------:|:--------------:|
| 基本整形 |        int        |  unsigned int  |
| 短整形  | short / short int | unsigned short |
| 长整形  |  long / long int  | unsigned long  |
```c
int a,b;    //定义整形变量a、b
unsigned short c,d;     //定义短整型变量c、d
long e,f;   //定义长整型变量e、f
```
### 字符型变量
```c
#include<stdio.h>
int main(){
    char a,w,f,y;   //定义字符型变量a,w,f,y;存放的是ASCII码值;与整形通用
    a = 108;
    w = 111;
    f = 118;
    y = 101;
    printf("%c%c%c%c\n",a,w,f,y);     //%c输出字母;\n换行
    printf("%d %d %d %d",a,w,f,y);  //%d输出数字
}
```
### 实型变量
```c
float x;    //定义单精度浮点型变量x
double y;   //定义双精度浮点型变量y
long double z;  //定义长双精度浮点型变量z
```
### 运算符和表达式

|  运算符   |         符号         |
|:------:|:------------------:|
| 算术运算符  |  + - * / % ++ --   |
| 关系运算符  |  < > <= >= == !=   |
| 逻辑运算符  | ! && &#124;&#124;  |
|  位运算符  | << >> ~ ^ & &#124; |
| 赋值运算符  |   = += -= *= /=    |
| 条件运算符  |         ?:         |
| 逗号运算符  |         ,          |
| 指针运算符  |        * &         |
| 求字节运算符 |       sizeof       |
| 强制类型转换 |        (类型)        |
| 成员运算符  |        . ->        |
| 下标运算符  |         []         |
|   其他   |                    |
```c
#include<stdio.h>
main(){
    int a,b,c,d;    //不可以int a=b=2;可以int a=2,b=3;
    d=3;            //可以a=b=9;
    c=2
    b=9;
    a=7;    //变量 = 表达式  把a赋值为7
    a= b+c; //a = 9+2
    a*b;    //a×b
    a/b;    //7÷9    /左右都为整数时结果为整数(不要小数)
    a%b;    //7÷9的余数    %左右必须整数
    a++;    //a=a+1 ++在变量前时先执行a+1在使用a 在后时先使用a在执行a+1 --同理 ++,--只能用于变量
    a+=b;   //a=a+b -= *= /= %= 同理
    (float) a;  //不改变原变量,只是在用的时候变为所需类型  例如双
    a=1,b=2,b+1,b+2;    //值取最后一个
}
```
扩展:

    算法:解决某问题所采用的方法和步骤
    算法特征:有穷性、确定性、有效性、有0个或多个输入、有1个或多个输出
    可以用自然语言、流程图、N-S流程图、计算机语言表示算法
    流程图常用符号：
        1.椭圆形（开始/结束）：表示流程的起始点或终结点。
        2.矩形（处理步骤）：表示一个具体的操作或步骤。
        3.菱形（决策/判断）：表示一个需要做选择或判断的节点，通常有两个出口（如“是”或“否”）。
        4.平行四边形（输入/输出）：表示数据的输入或输出。
        5.箭头：表示流程的方向，指示步骤之间的流向。
![image](/avatar/流程图.png)
![image](/avatar/N-S流程图.png)
### 赋值运算符和赋值表达式
### 算术运算符和算术表达式
### 复合赋值运算符
### 逗号运算符和逗号表达式

## 顺序结构
### C语句概述
C语句可以分为:
1. 控制语句：
```C
/*
用于根据不同的条件执行不同的代码块。
if-else 语句检查某个条件表达式的值，如果该表达式的值为真（非零），则执行 if 块中的代码
如果为假（零），则执行 else 块中的代码（如果有的话）
condition：是一个条件表达式。如果条件表达式的结果为真（非零），就执行 if 块中的代码
如果为假（零），就执行 else 块中的代码
*/
if (condition) {
    // 条件为真时执行的代码
} else {
    // 条件为假时执行的代码
}
/*
用于在知道循环次数或需要按特定方式递增（或递减）某个变量时执行重复操作
for 循环通常适用于明确知道循环次数的场景
initialization：初始化语句，在循环开始时执行一次。通常用于初始化控制变量
condition：循环条件表达式，循环每次开始时都会判断，如果条件为真，则执行循环体；如果为假，循环结束
increment/decrement：每次循环结束后执行的操作，通常用于更新控制变量（如递增或递减）
*/
for (initialization; condition; increment/decrement) {
    // 循环体
}
/*
循环会首先判断条件表达式，如果条件为 true（即非零），则执行循环体
如果条件为 false（即零），则循环结束。
*/
while(条件){
   //循环体
}
//不管条件成不成立都执行一次循环体
do{
   //循环体
}while(条件)
//结束本次循环
continue
//结束循环
break
/*
多分支执行语句
expression 一个常量表达式，通常是整数、字符或枚举类型，C 语言的 switch 语句不能用于浮点数类型
case valueX 每个 case 都会检查 expression 是否等于 valueX，如果匹配，就会执行该 case 下的代码
break 语句是用来终止 switch 语句的。如果没有 break，程序会继续执行后面的 case，即使它们不匹配
default 是可选的，它是所有 case 值都没有匹配时执行的代码
*/ 
switch (expression) {
    case value1:
        // 执行 expression 等于 value1 时的代码
        break;
    case value2:
        // 执行 expression 等于 value2 时的代码
        break;
    // 可以有任意多个 case
    default:
        // 如果没有匹配的 case，则执行此处的代码
}
/*
一种控制流语句，用于无条件地跳转到程序中的另一个位置。
通过 goto，程序的执行可以跳转到指定的标签位置，这个标签通常在函数的某个地方定义
*/
goto label;   // 跳转到指定标签位置

label: 
    // 标签所在的位置
    // 执行的代码
/*
用于从函数中返回，并结束该函数的执行。
它可以带一个返回值（如果函数类型不是 void），或者不带返回值（对于 void 类型的函数）
*/
//无返回值
void myFunction() {
    printf("This is a void function.\n");
    return;  // 结束函数的执行
}
//有返回值
int add(int a, int b) {
    return a + b;  // 返回 a 和 b 的和
}


```
3. 函数调用语句
4. 表达式语句
5. 空语句：;
6. 复合语句:由多个语句组成的一个语句块，它通常是由一对大括号 {} 包围的语句集合。复合语句的作用是将多个语句封装在一起，从而形成一个整体，在控制结构（如 if、while、for 等）中作为一个单一语句来执行。
### 程序的三种基本结构
1. 顺序结构
2. 选择结构
3. 循环结构
### 数据输入输出
扩展：C语言没有输入输出语句，所有输入输出都有函数实现。在调用C语言库函数时，需要使用编译预处理命令 #include<相关头文件>，将其包含
常用头文件：stdio.h 输入输出函数、string.h 字符串操作函数、math.h 数学函数
```C
/*
用于向屏幕输出文本、变量值或者格式化的内容
格式控制：普通字符（原样输出）、%格式说明符
常用的%格式说明符:%d、%c、%f、%s
%d:整数
%c:字符
%f:浮点数默认6位小数不足补0
%s:字符串
%md:m是整数，表示数据宽度 数据宽度>m输出数据本身;<m左补空格;m是负数右补空格;%c同理
%m.nf:m同上(算小数点)n保留小数位数
%m.ns:m同上n保留字符各数(从前往后)
\n:换行
*/
printf("格式控制",输出列表);
//例子：
printf("I like lucky girl. \n");
printf("%d",108+105+107+101);
/*
在 scanf 中，变量必须传递其地址，所以你需要在变量前加上取地址符号 &。例如，scanf("%d", &age); 表示将输入的值存储到 age 变量中。
对于字符串（%s）和字符（%c）类型，传递变量本身就可以，不需要
一般用空格、TAB、回车作为分隔符
输入数据时，遇回车或非法输入会认为数据结束
输入数值型数据可以指定宽度，不能指定小数位数
*/
scanf("格式控制",地址列表);
//用于向标准输出（通常是屏幕）打印一个字符。
putchar('字符');/putchar(字符变量);
//用于从标准输入（通常是键盘）读取一个字符。
变量 = gatchar();
```
### 顺序结构程序设计举例
```C
#include<stdio.h>
#include<math.h>
int main(){
    float x,y,z,s,area;
    scanf("%f%f%f",&x,&y,&z);
    s = 1/(2*(x+y+z))
    printf("%f",s);
    area = sqrt(s*(s-a)*(s-b)*(s-c));
    printf("%f",area);
}
```

## 选择结构
### 关系运算符和关系表达式
用于比较两个值或表达式，并返回一个布尔值（通常是 true 或 false）
关系运算符常用于 if 语句、while 循环等控制结构中，帮助进行条件判断
关系运算符: < <= ==(等于) >= > !=(不等于)
### 逻辑运算符和逻辑表达式
用于进行布尔运算，常用于条件判断中
逻辑运算符操作的是布尔值（true 或 false，在 C 中一般用整数 1 和 0 来表示），并返回布尔结果
逻辑运算符: &&(与；左右为真结构为真；左边为假不执行右边) ||(或；左右假结果假；左为真右边不执行) !(非；真变假；假变真) 
### if语句
if()后没有{}只执行最近的一条语句
else向上面取就近原则
{}同理
```C
#include<stdio.h>
int main(){
    int appearance;
    printf("输入博主颜值(1~10)");
    scanf_s("%d", &appearance);
    //判断输入是否有误
    while (!(appearance > 0 && appearance < 11)) {
	    printf("输入博主颜值(1~10)");
	    scanf_s("%d", &appearance);
    }
    while (appearance < 7) {
	    printf("输入可能有误呢在输入一次吧");
	    scanf_s("%d", &appearance);
    }

    if (appearance >= 7) {
	    printf("眼光不错");
    }else {
	    printf("眼光真差");
    }
}
//扩展:三元运算符
    //条件真执行a假执行b
    （条件）? a:b
    //等价
    if(条件){
        a
    }else{
        b
    }
```
### switch语句
```C
#include<stdio.h>
int main(){
    switch(){
        case : break;
        case : break;
        default: ;
    }
}
```
### 选择结构程序设计举例

## 循环结构
### 概述
### while语句
```C
#include<stdio.h>
int main(){
    //幸运循环
    int like=521,i=0;
    while(like>i){
        printf("lucky%d\n",i);
        i++;
    }
}
```

## 数组
### 一维数组
数组：类型相同的一组数据的集合
```C
#include<stdio.h>
void main(){
    //数据类型 数组名[常量表达式]
    //里面包括a[0],a[1],a[2],a[3],a[4]
    int a[5];
    //初始化
    int a[5]={5,2,1};
    for(int i=0;i<5;i++){
        printf("%d",a[i]);
    }
    //示例
    for(int i=0;i<5;i++){
        scanf("%d",&a[i]);
    }
    for(int i=0;i<5;i++){
        printf("%d",a[i]+5);
    }
}
```
### 二维数组
```C
#include<stdio.h>
void main(){
    //数据类型 数组名[常量表达式1][常量表达式2]
    //里面a[0][0],a[0][1],a[0][2],a[1][0],a[1][1],a[1][2]
    int a[2][3];
    //初始化示例 注：a[0][0]位置是1,a[0][1]位置是2,…,a[1][0]位置是4,a[1][1]位置是5,…
    int a[2][3]={{1，2，3},{4，5，6}}
    /*
    前一个[]内可以省略
    int a[][3]={1,2,3,4,5,6} == int a[2][3]={{1，2，3},{4，5，6}}
    */
    //单独输出a会得到首个元素的地址,即a[0]的地址
}
```
### 字符数组
```C
#include<stdio.h>
#include<string.h>
int main(){
    //char 数组名[常量表达式]
    char a[4];
    //初始化示例  未赋值部分默认为\0
    char a[4]={'l','i',k'','e'};
    //结尾为\0,即like\0
    char a[5]={"like"};
    //求字符个数 包括\0
    sizeof(a);
    //计算到\0不包括\0 用时要在顶部添加#include<string.h>
    strlen();
    //将字符数组2连接到字符数组1后面
    strcat(字符数组1,字符数组2);
    //把2复制到1
    strcpy(字符数组1,字符数组2);
    //比较字符串 1>2 正数 1<2 负数 1=2 0
    strcmp(1,2);
}
```

## 函数
### 概述
一个大的程序一般应分为若干个程序模块，每个模块实现一个特定的功能，在C语言中模块化用函数实现
main(主函数)不能被其他函数调用,其他函数可相互调用
扩展:

    一个源文件右一个或多个函数组成
    C程序从main执行到main结束
    所有函数都是平行的
    函数形式:有参，无参函数7
```C
#include<stdio.h>
int main(){
    
    int x=0,y=0;
    //调用有参函数 "a处"
    a(x,y);
}
//有参函数示例
//类型 函数名(接收参数(可以没有)){}
//void型不需要返回任何东西
//变量的有效范围只限于它所在的{}内
int a(int s,int b){
    //返回return后面的值给a处
    return 0;
}
```